<pre class = 'syntax code'>&lt;<span class = 'syntax var'>script</span>&gt;

<span class = 'syntax keyword'>var</span> name = <span class = 'syntax primitive'>null</span>;
<span class = 'syntax keyword'>var</span> pocket = <span class = 'syntax method'>Pocket</span>();    <!-- <span class = 'syntax keyword'>var</span> node = <span class = 'syntax keyword'>function</span> (id) { <span class = 'syntax keyword'>return</span> <span class = 'syntax class'>document</span>.getElementById(id); }; -->
<span class = 'syntax var'>pocket</span>.<span class = 'syntax method'>bind</span>(<span class = 'syntax string'>'username'</span>,
  <span class = 'syntax keyword'>function</span> (yes, username) {
    <span class = 'syntax keyword'>if</span> (yes) name <span class = 'syntax operator'>=</span> username;
});
<span class = 'syntax var'>pocket</span>.<span class = 'syntax method'>bind</span>(<span class = 'syntax string'>'message'</span>,
  <span class = 'syntax keyword'>function</span> (user, message) {
    <span class = 'syntax method'>node</span>(<span class = 'syntax string'>'output'</span>).<span class = 'syntax var'>innerHTML</span>
      <span class = 'syntax operator'>+=</span> user <span class = 'syntax operator'>+</span> <span class = 'syntax string'>': '</span> <span class = 'syntax operator'>+</span> message;
});
<span class = 'syntax method'>node</span>(<span class = 'syntax string'>'sendButton'</span>)
  .<span class = 'syntax method'>addEventListener</span>(<span class = 'syntax string'>'click'</span>,
    <span class = 'syntax keyword'>function</span> (e) {
      <span class = 'syntax var'>pocket</span>.<span class = 'syntax method'>send</span>(
        name ? <span class = 'syntax string'>'username'</span>:
          <span class = 'syntax string'>'message'</span>,
        <span class = 'syntax method'>node</span>(<span class = 'syntax string'>'input'</span>).<span class = 'syntax var'>value</span>
      );
});
<span class = 'syntax var'>pocket</span>.<span class = 'syntax method'>connect</span>(
  <span class = 'syntax string'>'pocketjs.ml'</span>,
  <span class = 'syntax primitive'>8000</span>, <span class = 'syntax string'>'chat.php'</span>
);

&lt;/<span class = 'syntax var'>script</span>&gt;
</pre>
